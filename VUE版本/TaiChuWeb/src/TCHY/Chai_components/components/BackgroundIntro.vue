<template>
  <section class="background-intro">
    <!-- 顶部说明 -->
    <header class="intro-header">
      <h2>企划背景与设定</h2>
      <p class="subtitle">
        这是由太初寰宇社区为火柴人圈所提供的一个会长期运营和维护的新型混合成长性企划。<br />
        未来这个企划的内容和要求会随着发展和经历进行调整，所以请以最新的要求为主。<br />
        如果有意见或者想法，欢迎在太虚绘院或者八卦反馈群进行反馈！
      </p>
    </header>

    <!-- 三栏：企划介绍 / 为什么做这个 / 企划目标 -->
    <div class="grid-3">
      <div class="panel">
        <div class="panel-title">
          <i class="fas fa-scroll"></i>
          企划介绍
        </div>
        <ul class="kv-list">
          <li>
            <span class="key">基本概念：</span>
            <span class="val">
              混合成长型企划是太初寰宇提出的一个新概念企划，不同于一般的企划对某一个特定 IP 或故事进行制作；也不同于需要找到多个人、由发起者组织的联合或接力。<br />
              混合成长型企划是指通过将众多创作者的创作内容以某种方式植入到一起的、长期维护的企划。<br />
              与其称之为“企划”，不如说更像是一种柴圈的固定娱乐活动。
            </span>
          </li>
          <li>
            <span class="key">混合企划的参与方式：</span>
            <span class="val">
              每位画师可上传一个或多个原创人设（OC），包含外观、能力等系列基本信息（通过“上传角色”页面）。<br />
              为了便于管理与未来发展，每个画师的 OC 在上传后会先进入审核，确保没有敏感信息或不恰当设定。<br />
              若认为部分内容不合适，可以进行举报；我们会暂时下架并复审。<br />
              参与该企划的创作者，可以自由设计设定，但前提是不能强制修改他人已提交的设定内容。<br />
              若出现严重设定冲突，官方会在必要情况下进行讨论与处理。<br />
              后续会开放设定或故事内容的上传通道，审核通过后可在官网查看企划相关内容。
            </span>
          </li>
          <li>
            <span class="key">战斗！爽！</span>
            <span class="val">
              在约战区域可以查看到所有公开的 OC 列表，并可对选中的角色发起约战申请（可参考 dojo 的道馆与 RHG）。<br />
              当双方约定的内容载体制作完成后，官方审核通过即将结果记录在档案内，所有人都可查看角色的历史记录。<br />
              若官方未记录，则该剧情不被纳入正式剧情（即私下自娱自乐的剧情不会记录到官网与世界故事中）。<br />
              创作载体：插画、短漫、动画、文章皆可，剧情与结果以双方约定为准。
            </span>
          </li>
          <li>
            <span class="key">世界填充：</span>
            <span class="val">
              此企划刻意保持“空旷”，希望看到在开放平台下圈子成员如何自发填充与发展。<br />
              只要设定与故事内容不违背国家法律、不涉及敏感内容，我们原则上不作限制。<br />
              内容限制以官方审核标准为准。
            </span>
          </li>
        </ul>
      </div>

      <div class="panel">
        <div class="panel-title">
          <i class="fas fa-lightbulb"></i>
          为什么要做这个
        </div>
        <ul class="kv-list">
          <li>
            <span class="key">活跃圈子：</span>
            <span class="val">
              国内柴圈存在资源分散、缺乏新鲜血液与活力的问题。<br />
              我们希望提供一个平台，助推 OC 创作者的创作热情与交流频次。
            </span>
          </li>
          <li>
            <span class="key">拥有我们自己的固定娱乐活动：</span>
            <span class="val">
              过去较流行的活动（除联合外）如 RHG，近年来逐渐淡出（或因缺乏持续管理维护）。<br />
              似乎一直没有一个属于国内圈子的“RHG”，因此我们希望提供一个平台做尝试，也算是为圈子做一点贡献。
            </span>
          </li>
        </ul>
      </div>

      <div class="panel">
        <div class="panel-title">
          <i class="fas fa-bullseye"></i>
          企划目标
        </div>
        <ul class="kv-list">
          <li>
            <span class="key">形成一个稳定的固定活动：</span>
            <span class="val">
              将“上传—匹配—约战—结算—归档”串成清晰、可追溯的闭环（这是未来的计划与目标）。<br />
              让所有玩家拥有一个随时可参与、持续、稳定、长期维护与运营的固定活动。
            </span>
          </li>
          <li>
            <span class="key">公平公开：</span>
            <span class="val">
              明确规则与时间节点，降低纠纷，鼓励健康竞技与合作，持续产生活力。
            </span>
          </li>
          <li>
            <span class="key">可扩展性：</span>
            <span class="val">
              为后续排行、赛事、联动活动等玩法预留接口与空间。
            </span>
          </li>
        </ul>
      </div>
    </div>

    <!-- 规则与约定（概要） -->
    <div class="panel">
      <div class="panel-title">
        <i class="fas fa-gavel"></i>
        规则与约定（概要）
      </div>
      <ul class="bullet">
        <li>尊重原创与署名：上传人设需为本人可授权之内容，引用素材需注明来源。</li>
        <li>公平对战：遵循双方约定的能力边界与场景限制，禁止“无解设定”破坏平衡（暂定）。</li>
        <li>时间节点：按约定期限交付；如需延期，请在截止前沟通并更新记录（或采用“完成即审核与记录；若上一场未完成则该角色不可开始下一场”的约定）。</li>
        <li>展示与使用：完成作品默认可在平台展示并归档为战绩；特别限制请在约定中说明（暂定）。</li>
        <li>社区规范：禁止违规内容；平台有权对恶意行为进行警示、屏蔽或封禁。</li>
        <li>以上部分为基础模板，后续会根据运营经验持续调整与完善。</li>
      </ul>
      <p class="tip">以上为概要，详细条款以平台正式规则与活动细则为准（后续将以独立页面呈现）。</p>
    </div>

    <!-- 参与方式 -->
    <div class="panel">
      <div class="panel-title">
        <i class="fas fa-route"></i>
        参与方式
      </div>
      <ol class="steps">
        <li>
          <strong>上传人设：</strong>准备头像、简介、能力、标签与自定义规则，提交后进入人设广场。
        </li>
        <li>
          <strong>浏览与约战：</strong>在角色列表中挑选对手，发起约战，双方确认标题、主题、规则与截止时间。
        </li>
        <li>
          <strong>完成与记录：</strong>按约定形式提交作品，经审核后归档为“战绩”，支持后续检索与展示。
        </li>
      </ol>
    </div>

    <!-- FAQ -->
    <div class="panel">
      <div class="panel-title">
        <i class="fas fa-question-circle"></i>
        常见问答（FAQ）
      </div>
      <div class="faq">
        <details>
          <summary>一定要公开人设吗？</summary>
          <p>建议公开。若不公开，将无法进行匹配；如确不希望公开，则无需上传。</p>
        </details>
        <details>
          <summary>作品需要统一画风或长度吗？</summary>
          <p>不需要。作品形式与复杂度由双方约定。</p>
        </details>
        <details>
          <summary>如果临时无法完成怎么办？</summary>
          <p>仅在提交作品后才会启动审核与记录；未完成状态下，双方角色默认保持在约战中，直至完成或取消上一场对战。</p>
        </details>
      </div>
    </div>

    <!-- 行动按钮 -->
    <div class="action-bar">
      <button class="btn" @click="$emit('go-upload')">
        <i class="fas fa-upload"></i>
        立即上传人设
      </button>
      <button class="btn primary" @click="$emit('go-gallery')">
        <i class="fas fa-id-card"></i>
        浏览人设与约战
      </button>
    </div>
  </section>
</template>

<script setup lang="ts">
defineEmits<{
  (e: 'go-upload'): void
  (e: 'go-gallery'): void
}>()
</script>

<style scoped>
/* 强对比毛玻璃容器（无文字描边） */
.background-intro {
  position: relative;
  border-radius: 14px;
  padding: 16px;
  color: #fff;
  display: flex;
  flex-direction: column;
  gap: 16px;

  background: rgba(0, 0, 0, 0.6); /* 深色半透明底，保证可读性 */
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);

  /* 文字渲染优化 */
  text-rendering: optimizeLegibility;
}

/* 支持时启用轻度模糊（仍保持较深底色） */
@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))) {
  .background-intro {
    -webkit-backdrop-filter: blur(8px) saturate(110%);
    backdrop-filter: blur(8px) saturate(110%);
    background: rgba(0, 0, 0, 0.48);
  }
}

/* 不使用任何 text-stroke 或重阴影；仅用高对比色与行高保证可读性 */
.intro-header h2 {
  margin: 0;
  font-size: 22px;
  font-weight: 800;
}
.subtitle {
  margin: 8px 0 0;
  color: #fff;                /* 提高对比 */
  font-size: 15px;
  line-height: 1.9;           /* 提升行高更易读 */
}

/* 三列网格（自适应） */
.grid-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
@media (max-width: 1100px) { .grid-3 { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 760px)  { .grid-3 { grid-template-columns: 1fr; } }

/* 面板：更深底色与边框，帮助文本可读 */
.panel {
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 12px;
  padding: 12px 14px;
  background: rgba(0,0,0,0.4);
}
.panel-title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 800;
  margin-bottom: 8px;
  color: #fff;
}

/* 文本与列表：加大行高与对比，无阴影/描边 */
.kv-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}
.kv-list .key { color: #fff; font-weight: 700; }
.kv-list .val { color: #fff; line-height: 1.9; letter-spacing: 0.2px; }

.bullet {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 8px;
  color: #fff;
  line-height: 1.9;
}
.tip {
  margin-top: 8px;
  font-size: 13px;
  color: #f0f0f0;
}

/* 步骤 */
.steps {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 10px;
  color: #fff;
  line-height: 1.9;
}

/* FAQ */
.faq { display: grid; gap: 10px; }
.faq details {
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 10px;
  padding: 10px 12px;
  background: rgba(0,0,0,0.38);
}
.faq summary { cursor: pointer; color: #fff; }
.faq p { margin: 8px 0 0; color: #fff; line-height: 1.9; }

/* 行动按钮 */
.action-bar {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  flex-wrap: wrap;
}
.btn {
  background: rgba(255,255,255,0.1);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.22);
  padding: 9px 14px;
  border-radius: 10px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform .12s ease, background .12s ease, box-shadow .12s ease;
}
.btn:hover   { background: rgba(255,255,255,0.18); transform: translateY(-1px); }
.btn:active  { transform: translateY(0); }
.btn.primary { background: #2b7cff; border-color: #2b7cff; }
.btn.primary:hover { filter: brightness(1.05); }
</style>